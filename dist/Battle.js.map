{"version":3,"sources":["../dist-esnext/Battle.js"],"names":["startBattle","fieldConfig","width","heigth","bombs","field","battle","isOver","gameOver","countedField","map","col","colIndex","pos","index","x","y","opened","openPosition","position","isBomb","console","log"],"mappings":";;;;;;;AACA;;AACA;AACA;AACA,SAASA,WAAT,GAAuB;AACnB,QAAMC,cAAc;AAChBC,eAAO,CADS;AAEhBC,gBAAQ,CAFQ;AAGhBC,eAAO;AAHS,KAApB;AAKA,QAAMC,QAAQ,4BAAgBJ,WAAhB,CAAd;AACA,QAAMK,SAAS;AACXD,oBADW;AAEXE,gBAAQ;AAFG,KAAf;AAIA,yBAASF,KAAT;AACA,WAAOC,MAAP;AACH,C,CAjBD;;AAkBA,SAASE,QAAT,CAAkBH,KAAlB,EAAyB;AACrB,QAAMI,eAAeJ,KAArB;AACAA,UAAMK,GAAN,CAAU,UAACC,GAAD,EAAMC,QAAN;AAAA,eAAmBD,IAAID,GAAJ,CAAQ,UAACG,GAAD,EAAMC,KAAN,EAAgB;AACjDL,yBAAaI,IAAIE,CAAjB,EAAoBF,IAAIG,CAAxB,EAA2BC,MAA3B,GAAoC,IAApC;AACH,SAF4B,CAAnB;AAAA,KAAV;AAGA,WAAOR,YAAP;AACH;AACD,SAASS,YAAT,CAAsBZ,MAAtB,EAA8Ba,QAA9B,EAAwC;AACpC,QAAMN,MAAMP,OAAOD,KAAP,CAAac,SAASJ,CAAtB,EAAyBI,SAASH,CAAlC,CAAZ;AACA,QAAIH,IAAIO,MAAR,EAAgB;AACZd,eAAOC,MAAP,GAAgB,IAAhB;AACAD,eAAOD,KAAP,GAAeG,SAASF,OAAOD,KAAhB,CAAf;AACAgB,gBAAQC,GAAR,CAAY,YAAZ;AACH;AACDT,QAAII,MAAJ,GAAa,IAAb;AACA,yBAASX,OAAOD,KAAhB;AACA,WAAOC,MAAP;AACH;QACQN,W,GAAAA,W;QAAakB,Y,GAAAA,Y;AACtB","file":"Battle.js","sourcesContent":["// import { IBattle, IBattleArgs } from './IBattle';\nimport { getInitialField, logField } from './Field';\n// import { LogFile } from 'ptz-log-file';\n// const log = LogFile({});\nfunction startBattle() {\n    const fieldConfig = {\n        width: 9,\n        heigth: 9,\n        bombs: 9\n    };\n    const field = getInitialField(fieldConfig);\n    const battle = {\n        field,\n        isOver: false\n    };\n    logField(field);\n    return battle;\n}\nfunction gameOver(field) {\n    const countedField = field;\n    field.map((col, colIndex) => col.map((pos, index) => {\n        countedField[pos.x][pos.y].opened = true;\n    }));\n    return countedField;\n}\nfunction openPosition(battle, position) {\n    const pos = battle.field[position.x][position.y];\n    if (pos.isBomb) {\n        battle.isOver = true;\n        battle.field = gameOver(battle.field);\n        console.log('GAME OVER!');\n    }\n    pos.opened = true;\n    logField(battle.field);\n    return battle;\n}\nexport { startBattle, openPosition };\n//# sourceMappingURL=Battle.js.map"]}